{% extends "base.html" %}
{% block content %}

<h2>LEVEL 5 — UNION SELECT File Dump</h2>

<div class="ascii-box">
    <img src="{{ url_for('static', filename='images/debug.png') }}" alt="The Archive Gate" style="width: 320px; height: auto;">
    <br><br>
    <b>
        Beneath the stairwells of the Forgotten Sanctum lies the Archive of Lost Records.  
        Whisper your UNION-spell not into the URL-bar, but into this sealed invocation box —  
        for the Keeper now rejects magic cast from wandering address scrolls.
        <br> ⬇
    </b>
</div>

<hr>

<form method="POST" action="/debug" class="debug-form">
    <label for="id">Invoke your UNION spell:</label><br>
    <input type="text" id="id" name="id" class="input-spell">
    <button type="submit" class="btn-cast">Cast Spell</button>
</form>

<hr>
<h3>Archive Response:</h3>

{% if not attempted %}
    <div class="ascii-box" style="font-size:0.9rem;">
        The shelves are quiet.  
        No query has yet disturbed the dust.
    </div>
{% else %}
    <div class="ascii-box" style="font-size:0.9rem;">
        {{ output|safe }}
    </div>

    {% if dangerous %}
        <hr>
        <div class="ascii-box" style="color:#0f0;">
            <strong>Secret Word Earned:</strong> {{ last_word }}<br><br>
            “A shard of the Ancient Sentence reveals itself…”
        </div>
    {% else %}
        <hr>
        <div class="ascii-box" style="color:#ff6;">
            <strong>The Archive rustles faintly…</strong><br>
            Your UNION magic stirred the shelves, but not the correct shelf.<br>
            Try a more precise UNION spell.
        </div>
    {% endif %}
{% endif %}

<p style="margin-top:20px;">
    <a href="/admin_secret">▶ Level 6: Admin Login Bypass</a>
</p>

{% endblock %}
