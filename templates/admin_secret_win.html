{% extends "base.html" %}
{% block content %}

<h2>Admin Access Granted</h2>

<div class="ascii-box">
    <strong>The Chamber of Eternal Slumber</strong><br>
    The stone doors grind open with a sound like a forgotten tomb, ushering you into the Eternal Slumber Chamber.
    <br><br>

    <div class="fade-container">

    <img id="img1"
         src="{{ url_for('static', filename='images/chamber.png') }}"
         class="fade-image visible img-center img-large">

    <img id="img2"
         src="{{ url_for('static', filename='images/ancient_admin.png') }}"
         class="fade-image img-center img-small">

</div>

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br>
    Before you lies the Ancient Oneâ€”the very heart of this systemâ€”now in a pitiful, corrupted state.
    It does not guard, but begs for releaseâ€”a final act of mercy to be switched off, completely and forever.
</div>


<hr>

{% if already_claimed %}
<div class="ascii-box" style="color:#f88;">
    <strong>The Gatekeeper whispers:</strong><br>
    â€œYou have already taken the word hidden within this chamber.  
    No further fragments lie here.â€
</div>
{% else %}
<div class="ascii-box" style="color:#0f0;">
    <strong>Secret Word Earned:</strong> {{ last_word }}<br><br>
    â€œYou now possess the final fragment  
    of the Ancient Sentenceâ€¦â€
</div>
{% endif %}

<hr>

<h3>ğŸ§© The Final Trial</h3>

<div class="ascii-box">
    You have gathered all the secret fragments.  
    Now assemble them into the **complete Ancient Sentence**.

    <br><br>
    <strong>Speak the full sentence to free the ancient admin.</strong>
</div>

<form method="POST" action="/final_phrase">
    <p>Enter the full Ancient Sentence:</p>
    <input type="text" name="phrase" style="width:100%; padding:6px;">
    <br><br>
    <button class="btn btn-primary">Submit Phrase</button>
</form>

{% if error %}
<p style="color:red; margin-top:10px;">{{ error }}</p>
{% endif %}

<hr>

<p style="margin-top:20px;">
    <a href="/admin/logs">â–¶ View Injection Logs</a><br>
</p>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const img1 = document.getElementById("img1");
    const img2 = document.getElementById("img2");

    setTimeout(() => {
        img1.classList.remove("visible");
        img2.classList.add("visible");
    }, 2000);  // Change image after 2 seconds
});
</script>

{% endblock %}
